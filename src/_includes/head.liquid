<head>
  <!-- General meta -->

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Main css -->

  <link rel="stylesheet" href="{{ "assets/css/style.css" | relative_url }}">

  <!-- Favicon -->

  <link rel="icon" type="image/png" sizes="48x48" href="{{ "assets/favicon/favicon-48x48.png" | relative_url }}">
  <link rel="icon" type="image/svg+xml" href="{{ "assets/favicon/favicon.svg" | relative_url }}">
  <link rel="shortcut icon" href="{{ "assets/favicon/favicon.ico" | relative_url }}">
  <link rel="apple-touch-icon" sizes="180x180" href="{{ "assets/favicon/apple-touch-icon.png" | relative_url }}">
  <link rel="manifest" href="{{ "assets/favicon/site.webmanifest" | relative_url }}">
  <meta name="apple-mobile-web-app-title" content="Safex">

  <!-- Leaflet -->

  <link rel="stylesheet" href="{{ "assets/lib/leaflet/leaflet.css" | relative_url }}">
  <script async src="{{ "assets/lib/leaflet/leaflet.js" | relative_url }}"></script>

  <!-- Search -->

  <script async src="{{ "assets/lib/simple-jekyll-search/simple-jekyll-search.min.js" | relative_url }}"></script>
  <script>
    window.addEventListener('load', async () => {
      const searchInput = document.getElementById('search-input');
      const searchClear = document.getElementById('search-clear');

      const clearInput = () => {
        searchInput.value = '';
        searchInput.dispatchEvent(new Event('input'));
      };

      searchClear.addEventListener('click', clearInput);
      searchInput.addEventListener('keydown', (event) => {
        if (event.key === 'Escape') clearInput();
      });

      SimpleJekyllSearch({
        searchInput,
        resultsContainer: document.getElementById('search-results'),
        json: '{{ 'assets/search.json' | relative_url }}',
        searchResultTemplate: `<li class="px-4 py-1 border-b border-gray-300"><a href="{url}" class="hover:underline">{title}</a></li>`,
        noResultsText: '<li class="px-4 py-1">Brak wynik√≥w</li>',
        limit: 10,
        fuzzy: false
      });
    });
  </script>

  {% seo %}

  <!-- Google tag -->

  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.gtag }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
      dataLayer.push(arguments);
    }

    gtag('js', new Date());

    gtag('config', '{{ site.gtag }}');
  </script>
</head>
